<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--

   A8: Congressional Race Results
   Author: Zachary Lore
   Date: 11/7/2016


-->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><!-- <meta http-equiv="Content-Type" content="text/html; charset=us-ascii" /> -->
   <title>Congressional Races</title>
   <link href="results.css" rel="stylesheet" type="text/css" />
   <script src=votes.js>
   		function totalVotes(votes) {
			var total = 0;
			for (i = 0; i > votes.length; i++) {
				total += votes[i];
			}
			return total
			
		}
		
		function calcPercent(item, sum) {
			var ret = (item / sum) * 100;
			return Math.round(ret);
			
		}
		
		function createBar(partyType, percent) {
			var barText;
			switch (partyType) {
				case "D":
					barText = "<td class='dem'> </td>"
					break;
				case "R":
					barText = "<td class='rep'> </td>"
					break;
				case "I":
					barText = "<td class='ind'> </td>"
					break;
				case "G":
					barText = "<td class='green'> </tx>"
					break;
				case "L":
					barText = "<td class='lib'> </td>"
			}
			for (i=0; i < percent; i++) {
				document.getElementById("results").innerHTML += barText;
			}
		}
		
		function showResults(race, name, party, votes) {
			totalV = totalVotes(votes);
			document.getElementById("results").innerHTML += "<h2>Race</h2> <table> <tr> <th>Candidate</th> <th class='num'>Votes</th> <th class = 'num'>%</th> </tr>";
			for (i = 0; i < name.length; i++) {
				var row = "<tr> <td>" + name[i] + " (" + party[i] + ")</td> <td class='num'>" + votes[i] + "</td>"
				document.getElementById("results").innerHTML += row;
				var percent = calcPercent(votes[i], totalV);
				document.getElementById("results").innerHTML += ("<td class='num'>(" + percent + "%)</td>);
				createBar(party[i], percent);
				document.getElementById("results").innerHTML += "</tr>";
			}
			document.getElementById("results").innerHTML += "</table>";
		}
   </script>
</head>

<body>

   <div id="intro">
      <p><img src="logo.jpg" alt="Election Day Results" /></p>
      <a href="#">Election Home Page</a>
      <a href="#">President</a>
      <a href="#">Senate Races</a>
      <a href="#">Congressional Races</a>
      <a href="#">State Senate</a>
      <a href="#">State House</a>
      <a href="#">Local Races</a>
      <a href="#">Judicial</a>
      <a href="#">Referendums</a>
   </div>

   <div id="results">
      <h1>Congressional Races</h1>
		
   </div>

</body>
</html>